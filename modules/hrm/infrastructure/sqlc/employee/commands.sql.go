// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: commands.sql

package employee_sqlc

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createEmployee = `-- name: CreateEmployee :one
INSERT INTO employees (tenant_id, first_name, last_name, middle_name, email, phone, salary, salary_currency_id, hourly_rate, coefficient, avatar_id, created_at, updated_at)
    VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)
RETURNING
    id
`

type CreateEmployeeParams struct {
	TenantID         pgtype.UUID        `json:"tenant_id"`
	FirstName        string             `json:"first_name"`
	LastName         string             `json:"last_name"`
	MiddleName       *string            `json:"middle_name"`
	Email            string             `json:"email"`
	Phone            *string            `json:"phone"`
	Salary           pgtype.Numeric     `json:"salary"`
	SalaryCurrencyID *string            `json:"salary_currency_id"`
	HourlyRate       pgtype.Numeric     `json:"hourly_rate"`
	Coefficient      float64            `json:"coefficient"`
	AvatarID         *int32             `json:"avatar_id"`
	CreatedAt        pgtype.Timestamptz `json:"created_at"`
	UpdatedAt        pgtype.Timestamptz `json:"updated_at"`
}

func (q *Queries) CreateEmployee(ctx context.Context, arg CreateEmployeeParams) (int32, error) {
	row := q.db.QueryRow(ctx, createEmployee,
		arg.TenantID,
		arg.FirstName,
		arg.LastName,
		arg.MiddleName,
		arg.Email,
		arg.Phone,
		arg.Salary,
		arg.SalaryCurrencyID,
		arg.HourlyRate,
		arg.Coefficient,
		arg.AvatarID,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var id int32
	err := row.Scan(&id)
	return id, err
}

const createEmployeeMeta = `-- name: CreateEmployeeMeta :exec
INSERT INTO employee_meta (employee_id, primary_language, secondary_language, tin, pin, notes, birth_date, hire_date, resignation_date)
    VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)
`

type CreateEmployeeMetaParams struct {
	EmployeeID        int32       `json:"employee_id"`
	PrimaryLanguage   *string     `json:"primary_language"`
	SecondaryLanguage *string     `json:"secondary_language"`
	Tin               *string     `json:"tin"`
	Pin               *string     `json:"pin"`
	Notes             *string     `json:"notes"`
	BirthDate         pgtype.Date `json:"birth_date"`
	HireDate          pgtype.Date `json:"hire_date"`
	ResignationDate   pgtype.Date `json:"resignation_date"`
}

func (q *Queries) CreateEmployeeMeta(ctx context.Context, arg CreateEmployeeMetaParams) error {
	_, err := q.db.Exec(ctx, createEmployeeMeta,
		arg.EmployeeID,
		arg.PrimaryLanguage,
		arg.SecondaryLanguage,
		arg.Tin,
		arg.Pin,
		arg.Notes,
		arg.BirthDate,
		arg.HireDate,
		arg.ResignationDate,
	)
	return err
}

const deleteEmployee = `-- name: DeleteEmployee :exec
DELETE FROM employees
WHERE id = $1
    AND tenant_id = $2
`

type DeleteEmployeeParams struct {
	ID       int32       `json:"id"`
	TenantID pgtype.UUID `json:"tenant_id"`
}

func (q *Queries) DeleteEmployee(ctx context.Context, arg DeleteEmployeeParams) error {
	_, err := q.db.Exec(ctx, deleteEmployee, arg.ID, arg.TenantID)
	return err
}

const deleteEmployeeMeta = `-- name: DeleteEmployeeMeta :exec
DELETE FROM employee_meta
WHERE employee_id = $1
`

func (q *Queries) DeleteEmployeeMeta(ctx context.Context, employeeID int32) error {
	_, err := q.db.Exec(ctx, deleteEmployeeMeta, employeeID)
	return err
}

const updateEmployee = `-- name: UpdateEmployee :exec
UPDATE
    employees
SET
    first_name = $1,
    last_name = $2,
    middle_name = $3,
    email = $4,
    phone = $5,
    salary = $6,
    salary_currency_id = $7,
    hourly_rate = $8,
    coefficient = $9,
    avatar_id = $10,
    updated_at = $11
WHERE
    id = $12
    AND tenant_id = $13
`

type UpdateEmployeeParams struct {
	FirstName        string             `json:"first_name"`
	LastName         string             `json:"last_name"`
	MiddleName       *string            `json:"middle_name"`
	Email            string             `json:"email"`
	Phone            *string            `json:"phone"`
	Salary           pgtype.Numeric     `json:"salary"`
	SalaryCurrencyID *string            `json:"salary_currency_id"`
	HourlyRate       pgtype.Numeric     `json:"hourly_rate"`
	Coefficient      float64            `json:"coefficient"`
	AvatarID         *int32             `json:"avatar_id"`
	UpdatedAt        pgtype.Timestamptz `json:"updated_at"`
	ID               int32              `json:"id"`
	TenantID         pgtype.UUID        `json:"tenant_id"`
}

func (q *Queries) UpdateEmployee(ctx context.Context, arg UpdateEmployeeParams) error {
	_, err := q.db.Exec(ctx, updateEmployee,
		arg.FirstName,
		arg.LastName,
		arg.MiddleName,
		arg.Email,
		arg.Phone,
		arg.Salary,
		arg.SalaryCurrencyID,
		arg.HourlyRate,
		arg.Coefficient,
		arg.AvatarID,
		arg.UpdatedAt,
		arg.ID,
		arg.TenantID,
	)
	return err
}

const updateEmployeeMeta = `-- name: UpdateEmployeeMeta :exec
UPDATE
    employee_meta
SET
    primary_language = $1,
    secondary_language = $2,
    tin = $3,
    pin = $4,
    notes = $5,
    birth_date = $6,
    hire_date = $7,
    resignation_date = $8
WHERE
    employee_id = $9
`

type UpdateEmployeeMetaParams struct {
	PrimaryLanguage   *string     `json:"primary_language"`
	SecondaryLanguage *string     `json:"secondary_language"`
	Tin               *string     `json:"tin"`
	Pin               *string     `json:"pin"`
	Notes             *string     `json:"notes"`
	BirthDate         pgtype.Date `json:"birth_date"`
	HireDate          pgtype.Date `json:"hire_date"`
	ResignationDate   pgtype.Date `json:"resignation_date"`
	EmployeeID        int32       `json:"employee_id"`
}

func (q *Queries) UpdateEmployeeMeta(ctx context.Context, arg UpdateEmployeeMetaParams) error {
	_, err := q.db.Exec(ctx, updateEmployeeMeta,
		arg.PrimaryLanguage,
		arg.SecondaryLanguage,
		arg.Tin,
		arg.Pin,
		arg.Notes,
		arg.BirthDate,
		arg.HireDate,
		arg.ResignationDate,
		arg.EmployeeID,
	)
	return err
}
