# DEV-PLAN-057：Position 报表与运营（统计/空缺分析/质量守护）（对齐 051 阶段 E）

**状态**: 草拟中（2025-12-20 01:46 UTC）

## 1. 背景
- 050 §8 要求：按组织统计编制容量/占用/可用/填充率、支持包含下级组织的口径，并提供空缺分析（vacancy aging、time-to-fill 的基础口径）。
- 本计划将“统计口径冻结 → 查询/导出 → 看板化 → 数据质量/性能守护”按可并行轨道交付，优先保证口径稳定与可追溯。

## 2. 工具链与门禁（SSOT 引用）
- 查询性能与组织范围：与 Org 侧深读/性能门禁口径对齐（见 029/033/034 等相关计划与实现）。
- 命令与门禁以 `AGENTS.md`、`Makefile` 以及 051 §3 为准。

## 3. 目标（完成标准）
- [ ] 统计口径冻结并可复现：容量/占用/可用/填充率（FTE 为主），支持组织范围（仅本组织/包含下级）。
- [ ] 空缺分析可用：vacancy aging 与基础 time-to-fill 的查询/导出能力（先 API/导出，再图表化）。
- [ ] 数据质量与性能守护：最小巡检规则与必要索引/限流策略落地，避免深层组织范围查询退化。

## 4. 依赖与并行
- 依赖：`DEV-PLAN-053`（Position Core）；`DEV-PLAN-056`（分类/限制维度，若统计需使用）。
- 可并行：UI 看板（若做）可先做原型，待统计 API 稳定后联调。

## 5. 实施步骤
1. [ ] 统计口径冻结（DoD：口径文档化 + 可回归）
   - 明确 as-of 视角、组织范围（含下级）的计算口径与边界条件（停用/撤销/未来生效）。
   - 明确维度拆分（例如按职级/按类型/按分类）的最小集与默认排序/分页策略。
2. [ ] 查询/API/导出最小闭环
   - 提供组织维度汇总与明细查询；必要时先实现导出（CSV/JSON）再迭代图表。
3. [ ] 空缺分析（先口径后表现）
   - vacancy aging：定义“空缺起点/终点”的时间线口径（与生命周期/填充状态一致）。
   - time-to-fill：先做基础可解释口径，避免过早承诺全招聘闭环。
4. [ ] 数据质量与性能守护
   - 巡检规则：code 合规、无效引用、超编扫描、异常时间线（断档/重叠）等。
   - 性能：为深层组织范围查询补齐索引与必要限流/分页上限策略。
5. [ ] 验收与门禁记录（执行时填写）
   - 按 `AGENTS.md` 触发器矩阵跑对应门禁，并将命令/结果/时间戳登记到收口计划指定的 readiness 记录。

## 6. 交付物
- 统计与空缺分析的稳定口径定义与最小查询/导出能力。
- 数据质量巡检规则与性能守护措施（索引/限流/回归基准）。

